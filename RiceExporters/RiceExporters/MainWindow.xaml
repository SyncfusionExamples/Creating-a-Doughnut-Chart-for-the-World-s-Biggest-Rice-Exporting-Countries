<Window x:Class="RiceExporters.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:chart="clr-namespace:Syncfusion.UI.Xaml.Charts;assembly=Syncfusion.SfChart.WPF"
        xmlns:local="clr-namespace:RiceExporters"
        mc:Ignorable="d">

    <Border Margin="50" Padding="10,10,50,20" BorderThickness="2" CornerRadius="10" BorderBrush="#b0b8bf">

        <Border.DataContext>
            <local:WorldRiceExporters/>
        </Border.DataContext>

        <Border.Resources>

            <local:ExplodeColorConverter x:Key="explodeColorConverter"/>

            <Geometry x:Key="PathData1">M15.760017,17.312012C17.713998,17.297012 19.688973,18.411011 20.972056,19.894012 19.573983,21.269012 16.915048,22.462006 14.956061,22.082001 13.046026,21.710007 11.123052,19.828003 13.174079,18.102005 13.987067,17.558014 14.872077,17.319 15.760017,17.312012z M19.988046,13.694C21.591075,13.682007 23.21107,14.596008 24.263074,15.812012 23.115977,16.940002 20.935069,17.917999 19.328988,17.60701 17.76307,17.30101 16.186044,15.759003 17.868051,14.343002 18.535043,13.897003 19.260018,13.700012 19.988046,13.694z M24.507093,10.277008C25.969983,10.266006 27.448987,11.098999 28.409072,12.211014 27.362073,13.240005 25.370984,14.133011 23.90504,13.848007 22.476085,13.570007 21.036021,12.161011 22.571055,10.869003 23.180064,10.462006 23.842052,10.282013 24.507093,10.277008z M13.29798,7.7110138C14.87403,9.0630035 16.370004,11.759003 16.145026,13.860001 15.926033,15.907013 14.114997,18.105011 12.109991,16.097 10.040044,13.51001 11.187994,9.8740082 13.29798,7.7110138z M27.927014,6.6260071C29.297988,6.6160126 30.684096,7.3960114 31.583999,8.4370117 30.602065,9.4020081 28.737075,10.238007 27.36305,9.9720001 26.023084,9.7100067 24.675061,8.3920135 26.114026,7.1800079 26.684094,6.7990112 27.30409,6.631012 27.927014,6.6260071z M18.182992,4.5550079C19.575082,5.75 20.896983,8.1330109 20.698985,9.9880066 20.504039,11.798004 18.905038,13.740005 17.133065,11.966003 15.304085,9.6800079 16.318002,6.4680023 18.182992,4.5550079z M0,3.1640015C14.941047,12.934006,9.5390673,22.703003,5.9040556,26.977005L5.80408,27.093002 5.8260527,27.075012C8.4740029,24.96701 11.972052,22.975006 15.763069,22.942001 19.853036,22.906006 24.283093,25.153 28.351089,32 28.351089,32 17.790048,18.573013 1.3090825,31.685013L1.2879644,31.702011 1.2370611,31.74501C1.0520025,31.89801,0.93896524,31.985001,0.92102096,31.998001L0.9179692,32 0.92199752,31.99501C0.93603555,31.977005,0.99206588,31.904007,1.0870366,31.784012L1.0889898,31.782013 1.1340337,31.723999C10.120976,20.062012 0.91796914,11.311005 0.9179692,11.311005 6.5429716,15.837006 7.4220004,20.227005 6.5579863,23.789001L6.5040312,23.997009 6.5490752,23.862C10.13709,12.846008,-3.5768608E-08,3.1640015,0,3.1640015z M22.455089,2.0160065C23.65504,3.0440063 24.795056,5.098999 24.623059,6.6970062 24.456067,8.2570038 23.077037,9.9300079 21.551036,8.4020081 19.974008,6.4309998 20.848033,3.6620026 22.455089,2.0160065z M28.487075,0C29.039077,1.1959991 29.191054,3.1460114 28.508071,4.2970123 27.842053,5.4200134 26.219007,6.2089996 25.592053,4.5240021 25.078992,2.4860077 26.700086,0.69200134 28.487075,0z</Geometry>

            <Geometry x:Key="PathData2">M15.623828,17.667141C16.088911,17.670193 16.616857,18.000147 16.839878,18.438191 17.076813,18.906144 16.874788,19.323132 16.388834,19.367138 15.903854,19.411145 15.3189,19.069167 15.081842,18.600178 14.844907,18.131188 15.046931,17.715176 15.53191,17.67117 15.562916,17.668179 15.592823,17.667141 15.623828,17.667141z M7.9099354,15.458179C8.5429839,15.465198 9.0549401,15.791183 9.1088952,16.259196 9.1689528,16.793188 8.6069478,17.306183 7.852929,17.407196 7.0989102,17.508147 6.4380301,17.156161 6.3769954,16.62217 6.3159612,16.090191 6.8779658,15.575181 7.6319846,15.475207 7.7269543,15.462207 7.8199705,15.457202 7.9099354,15.458179z M13.794871,13.584234C14.143866,13.59522 14.507875,13.697209 14.802915,13.888186 15.392874,14.270202 15.486867,14.863214 15.009822,15.212209 14.534853,15.562182 13.671948,15.534167 13.080891,15.152213 12.491909,14.770197 12.398893,14.177184 12.873862,13.828189 13.11092,13.65418 13.445877,13.573186 13.794871,13.584234z M13.942941,12.731215C8.6019429,12.731215 3.9070557,14.255187 1.1810155,16.560158 3.9080323,18.865189 8.6029195,20.388125 13.942941,20.388125 19.282841,20.388125 23.977728,18.865189 26.704744,16.560158 25.937786,15.912215 25.014702,15.326222 23.965765,14.817193L23.801704,14.740229 23.709787,14.794183C21.841768,15.903181,20.938825,16.868199,20.632799,17.23819L20.620836,17.252167 20.697739,17.357148C21.039776,17.842188 21.198831,18.255148 21.063824,18.375143 20.884748,18.534138 20.249746,18.113182 19.646849,17.433195 19.043829,16.754187 18.700815,16.073162 18.880867,15.913191 19.026861,15.784164 19.473755,16.038189 19.958856,16.502175L19.962763,16.506203 20.129753,16.359171C20.98875,15.614183,21.825777,14.952202,22.627769,14.366209L22.740805,14.283202 22.494837,14.188232C20.056757,13.269235,17.112823,12.731215,13.942941,12.731215z M30.393663,10.18827C31.889616,10.476231 31.084694,11.855247 31.084694,11.855247 28.368664,12.571244 26.296791,13.414192 24.737728,14.224182L24.734798,14.225219 24.778744,14.247192C25.741743,14.737177,26.602695,15.292164,27.342676,15.899214L27.600729,16.117169 27.612692,16.107159 27.617697,16.132183 27.622702,16.136212 27.619772,16.139202 27.671774,16.380167C27.800678,17.020176 27.870745,17.677151 27.870745,18.348166 27.870745,22.29814 25.553757,25.792065 22.0018,27.919058L21.815767,28.028065 21.828829,28.070057C21.870821,28.215077 21.892792,28.364062 21.892792,28.514084 21.892792,30.44003 18.330826,32.000014 13.934884,32.000014 9.5399197,32.000014 5.9769763,30.44003 5.9769763,28.514084 5.9769763,28.364062 5.9989485,28.215077 6.0409402,28.070057L6.0540017,28.028065 5.8679689,27.919058C2.3160113,25.792065 1.4922625E-07,22.29814 0,18.348166 1.4922625E-07,17.677151 0.069091085,17.020176 0.19799575,16.380167L0.25109589,16.138165 0.24804411,16.136212 0.25207197,16.134198 0.25707685,16.107159 0.27001631,16.118206 0.52904629,15.899214C3.4879936,13.471198 8.3869799,11.8832 13.934884,11.8832 17.402859,11.8832 20.616808,12.50325 23.26277,13.561224L23.579782,13.692204 23.608713,13.673222C27.530661,10.99826,30.393663,10.18827,30.393663,10.18827z M12.975912,0.0013556862C13.786937,0.021314044 14.580872,0.26032544 15.284843,0.70630491 16.307901,1.3543091 17.017853,2.362295 17.282865,3.5433141 17.603784,4.9782981 17.268827,6.625255 16.36088,8.0602392 15.452809,9.4962601 14.108832,10.504246 12.673914,10.827241L12.530849,10.194251C13.799876,9.9092201 14.994929,9.005237 15.812913,7.7132572 16.629797,6.422254 16.934847,4.9543113 16.649816,3.6852804 16.42289,2.6733273 15.814866,1.8093219 14.937923,1.2543346 14.06086,0.69830954 13.017903,0.5193562 12.007907,0.74432981 10.368889,1.1133447 9.3349665,2.7443105 9.7039803,4.3813189 9.9909638,5.6573075 11.261944,6.461255 12.536953,6.1742705 13.520949,5.9543017 14.141913,4.9723166 13.921945,3.9872798 13.75288,3.2342962 13.003866,2.7593252 12.247894,2.9272922 11.681861,3.0552818 11.322857,3.6213163 11.44993,4.1893042 11.49595,4.3913287 11.61692,4.5643004 11.793919,4.6753224 11.968966,4.787321 12.178924,4.8243078 12.380949,4.7773112 12.526943,4.7442917 12.650843,4.657317 12.729943,4.5323185 12.810875,4.4062818 12.835899,4.2563199 12.803917,4.1113018L13.435867,3.9682978C13.506911,4.2832974 13.450882,4.6062921 13.27791,4.8793 13.105915,5.1512698 12.837852,5.3402942 12.522915,5.4103006 12.152924,5.4942845 11.769873,5.428306 11.445902,5.2242674 11.123884,5.0202898 10.899888,4.7022995 10.816881,4.330294 10.612904,3.414287 11.1909,2.5013319 12.105927,2.2943026 13.204913,2.0483333 14.306828,2.7433339 14.554871,3.8453134 14.852841,5.1802615 14.011909,6.5082516 12.678919,6.8072599 11.050887,7.1732844 9.4349402,6.1482695 9.0709313,4.5243229 8.6239155,2.5383188 9.8779286,0.55835724 11.865941,0.11231669 12.234955,0.02833302 12.606898,-0.007677379 12.975912,0.0013556862z</Geometry>

            <Geometry x:Key="LegendData1">M13 6c2.507.423 4.577 2.493 5 5h4c-.471-4.717-4.283-8.529-9-9v4z</Geometry>

            <Geometry x:Key="LegendData2">M18 13c-.478 2.833-2.982 4.949-5.949 4.949-3.309 0-6-2.691-6-6C6.051 8.982 8.167 6.478 11 6V2c-5.046.504-8.949 4.773-8.949 9.949 0 5.514 4.486 10 10 10 5.176 0 9.445-3.903 9.949-8.949h-4z</Geometry>
        </Border.Resources>

        <chart:SfChart HorizontalHeaderAlignment="Left">

            <chart:SfChart.Header>
                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="13"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Vertical" Margin="0,10,0,0" Background="#1060DC"/>
                    <StackPanel Grid.Column="1" Margin="3,0,0,0">
                        <TextBlock Text="The World's Biggest Exporters of Rice" FontSize="35" FontWeight="SemiBold" Foreground="Black"/>
                        <TextBlock Text="Biggest exporters of rice worldwide in 2022 (in tons)" FontSize="20" Foreground="Gray"/>
                    </StackPanel>
                </Grid>
            </chart:SfChart.Header>

            <chart:SfChart.Legend>
                <chart:ChartLegend DockPosition="Right">
                    <chart:ChartLegend.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Grid Margin="10">
                                    <Path Data="{StaticResource LegendData1}" Fill="{Binding Interior}">
                                        <Path.RenderTransform>
                                            <ScaleTransform ScaleX="1.5" ScaleY="1.5"/>
                                        </Path.RenderTransform>
                                    </Path>
                                    <Path Data="{StaticResource LegendData2}" Fill="{Binding Interior}">
                                        <Path.RenderTransform>
                                            <ScaleTransform ScaleX="1.5" ScaleY="1.5"/>
                                        </Path.RenderTransform>
                                    </Path>
                                </Grid>
                                <TextBlock Text="{Binding Label}" FontSize="16" Margin="15,15,0,0" FontWeight="SemiBold"/>
                            </StackPanel>
                        </DataTemplate>
                    </chart:ChartLegend.ItemTemplate>
                </chart:ChartLegend>
            </chart:SfChart.Legend>

            <chart:DoughnutSeries ItemsSource="{Binding ExportData}" XBindingPath="Country" YBindingPath="Value" 
                                  DoughnutSize="1" Stroke="White" StrokeThickness="1" Palette="Custom" GroupTo="{Binding GroupTo}" 
                                  ExplodeIndex="{Binding SelectedIndex, Mode=TwoWay}" ExplodeOnMouseClick="True" ExplodeRadius="10">

                <chart:DoughnutSeries.ColorModel>
                    <chart:ChartColorModel>
                        <chart:ChartColorModel.CustomBrushes>
                            <SolidColorBrush Color="#1060DC"/>
                            <SolidColorBrush Color="#00B553"/>
                            <SolidColorBrush Color="#DA6902"/>
                            <SolidColorBrush Color="#C71969"/>
                            <SolidColorBrush Color="#8AC114"/>
                            <SolidColorBrush Color="#8419C7"/>
                        </chart:ChartColorModel.CustomBrushes>
                    </chart:ChartColorModel>
                </chart:DoughnutSeries.ColorModel>

                <chart:DoughnutSeries.CenterView >
                    <ContentControl>
                        <Grid Margin="5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock  Grid.Row="0" FontSize="16" Text="Percent" VerticalAlignment="Center" Margin="0,0,5,0" HorizontalAlignment="Center"/>
                            <TextBlock  Grid.Row="1" FontSize="16" Text="Contributed by" VerticalAlignment="Center" Margin="0,0,0,8" HorizontalAlignment="Center"/>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-3,10,0">
                                <TextBlock FontSize="16" Text="{Binding  Country}"/>
                                <TextBlock FontSize="16" Text=": "/>
                                <TextBlock FontSize="16" FontWeight="SemiBold" Text="{Binding Percentage,StringFormat={}{0:F2}%, Mode=TwoWay}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="3" Margin="4,20,0,0" Orientation="Horizontal">
                                <Path Data="{StaticResource PathData1}" Stroke="{Binding SelectedIndex, Converter={StaticResource explodeColorConverter}}" StrokeThickness="0.7" Margin="0,0,20,0">
                                    <Path.RenderTransform>
                                        <ScaleTransform ScaleX="1.5" ScaleY="1.3" />
                                    </Path.RenderTransform>
                                </Path>

                                <Path Data="{StaticResource PathData2}" Stroke="{Binding SelectedIndex, Converter={StaticResource explodeColorConverter}}" StrokeThickness="0.7">
                                    <Path.RenderTransform>
                                        <ScaleTransform ScaleX="1.5" ScaleY="1.3" />
                                    </Path.RenderTransform>
                                </Path>
                            </StackPanel>
                        </Grid>
                    </ContentControl>
                </chart:DoughnutSeries.CenterView>

                <chart:DoughnutSeries.AdornmentsInfo>
                    <chart:ChartAdornmentInfo ShowLabel="True" SegmentLabelFormat="#.#'M" Margin="0.4"/>
                </chart:DoughnutSeries.AdornmentsInfo>

            </chart:DoughnutSeries>
         
        </chart:SfChart>
    </Border>
</Window>